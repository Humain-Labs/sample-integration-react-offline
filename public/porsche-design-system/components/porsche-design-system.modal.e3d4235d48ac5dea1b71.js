"use strict";(self.webpackChunkPorscheDesignSystem_3_9_0=self.webpackChunkPorscheDesignSystem_3_9_0||[]).push([["modal"],{9398:(t,o,s)=>{s.d(o,{b:()=>e});const e="8px"},9621:(t,o,s)=>{s.d(o,{c:()=>i,h:()=>e});const e={"&([hidden])":{display:"none"}},i={colorScheme:"light dark"}},6447:(t,o,s)=>{s.d(o,{B:()=>a,F:()=>n,M:()=>i,P:()=>r,T:()=>e});const e=999999,i=99999,n=99998,r=9999,a=99},411:(t,o,s)=>{s.d(o,{a:()=>i,f:()=>e});const e="'Porsche Next','Arial Narrow',Arial,'Heiti SC',SimHei,sans-serif",i="calc(6px + 2.125ex)"},2405:(t,o,s)=>{s.d(o,{f:()=>e});const e=s(7160).f},7160:(t,o,s)=>{s.d(o,{f:()=>e});const e="clamp(1.27rem, 0.51vw + 1.16rem, 1.78rem)"},6397:(t,o,s)=>{s.d(o,{a:()=>i,f:()=>e});const e="normal",i="normal"},7336:(t,o,s)=>{s.d(o,{f:()=>e});const e=600},2801:(t,o,s)=>{s.d(o,{g:()=>i});var e=s(8634);const i=(t,o)=>(0,e.O)(t,`[slot="${o}"]`)},2743:(t,o,s)=>{s.d(o,{_:()=>n,a:()=>r,b:()=>e,c:()=>i,g:()=>a});const e="2560px",i="max(22px, 10.625vw - 12px)",n="calc(5vw - 16px)",r="min(50vw - 880px, 400px)",a=i},8582:(t,o,s)=>{s.d(o,{h:()=>i});var e=s(2801);const i=(t,o)=>!!(0,e.g)(t,o)},6430:(t,o,s)=>{s.d(o,{_:()=>r,a:()=>a});var e=s(411),i=s(7336),n=s(6397);const r=`${n.f} ${n.a} ${i.f} `,a=`/${e.a} ${e.f}`},876:(t,o,s)=>{s.d(o,{g:()=>i});var e=s(8634);const i=(t,o)=>`${o} is deprecated for component ${(0,e.j)(t)} and will be removed with next major release.`},7042:(t,o,s)=>{s.d(o,{h:()=>e});const e=t=>({"@media(hover:hover)":t})},9353:(t,o,s)=>{s.d(o,{M:()=>m,a:()=>c,b:()=>a,c:()=>g,d:()=>f,s:()=>p,w:()=>u});var e=s(8634);const i=t=>Array.from(t.children,(t=>t.children?[t].concat(i(t)):t)).flat().map((t=>t.shadowRoot?[t].concat(i(t.shadowRoot)):t)).flat(),n=t=>{const{nodeName:o}=t;return("INPUT"===o&&"hidden"!==t.type||"TEXTAREA"===o||"SELECT"===o||"BUTTON"===o||"A"===o&&!!t.href)&&t.tabIndex>=0&&!t.disabled};let r;const a=(t,o,s,e)=>{let a=[];document.removeEventListener("keydown",r),o&&(a=((t,o)=>{const s=(o?[o]:[]).concat(i(t).filter(n));return[s[0],s.pop()]})(t,s),r=o=>{const{key:s,shiftKey:i}=o,{activeElement:n,firstElementChild:r}=t.shadowRoot;"Escape"===s?e():"Tab"===s&&(i&&n===r?(o.preventDefault(),a[1]?.focus()):a.filter((t=>t)).length||o.preventDefault())},document.addEventListener("keydown",r)),h(a)};let d=[],l=[];const h=t=>{d.length&&d.forEach(((t,o)=>t.removeEventListener("keydown",l[o]))),t.filter((t=>t)).length&&(d=[...t],l=t.map(((o,s)=>{const e=o=>{"Tab"===o.key&&(0===s&&o.shiftKey||1===s&&!o.shiftKey)&&(o.preventDefault(),t[0===s?1:0].focus())};return o.addEventListener("keydown",e),e})))},c="rgba(204, 204, 204, 0.35)",p="rgba(0, 0, 0, 0.6)",f=t=>{const{body:{style:o,parentElement:s}}=document;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(t&&!o.top)o.top=-s.scrollTop+"px",o.overflowY="scroll",o.position="fixed";else if(!t){const t=-parseInt(o.top,10);o.top="",o.overflowY="",o.position="",s.scrollTop=t}}else o.overflow=t?"hidden":""},u=(t,o,s)=>{o||s||(0,e.c)(`heading or aria has to be set via property for component ${(0,e.j)(t)} in order to ensure accessibility.`)},m=["aria-label"],g=(t,o)=>{if(t.scrollHeight>t.offsetHeight){const s=t.scrollWidth===t.offsetWidth;return o.clientX>t.clientWidth-(s?17:0)}return!1}},2292:(t,o,s)=>{s.r(o),s.d(o,{p_modal:()=>B});var e=s(8634),i=s(8582),n=s(9353),r=s(171),a=s(269),d=s(9621),l=s(7042),h=s(6447),c=s(6430),p=s(2405),f=s(2743),u=s(9398);s(2801),s(876);const m={font:`${c._}${p.f}${c.a}`},g=(0,e.T)("xl"),{primaryColor:b,contrastHighColor:x}=(0,e.x)("dark"),v="stretch-to-full-modal-width",w="footer--shadow",y=t=>t?{minWidth:"100%",maxWidth:"none",minHeight:"100%",margin:0,borderRadius:0}:{minWidth:"276px",maxWidth:"1535.5px",minHeight:"auto",margin:`clamp(16px, 7vh, 192px) ${f.g}`,borderRadius:u.b},k=(t,o,s)=>{const i=-t+"px";return{[`&(.${v})`]:{width:`calc(100% + ${2*t}px)`,margin:`0 ${i}`},...!o&&{[`&(.${v}:first-child)`]:{marginTop:s?(0,e.n)(-t):i}},[`&(.${v}:last-child)`]:{marginBottom:i}}},C=(t,o,s,i,r,a)=>{const{primaryColor:c,backgroundColor:p}=(0,e.x)(a),{primaryColor:C,backgroundColor:$}=(0,e.x)("dark"),B=(t=>{const o=(0,e.Y)(t);if("boolean"==typeof o)return o;{const t=Object.entries(o),[s]=t.filter((([,t])=>t)).pop()||[],[i]=t.filter((([,t])=>!t)).pop()||[];return e.ag.indexOf(s)>e.ag.indexOf(i)}})(o),T=t?"moderate":"short",S=t?"in":"out",E="32px";return(0,e.g)({"@global":{":host":{...(0,e.a)({position:"fixed",...(0,e.u)(),zIndex:h.M,display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",...t?{visibility:"inherit"}:{visibility:"hidden",transition:`visibility 0s linear var(${e.a3}, ${e.a4})`},...d.c,...d.h,...(0,e.ac)(t,T,a)}),overflowY:"auto"},"::slotted":(0,e.a)((0,e.m)(k(32,i,s),(0,e.d)(o,(t=>({[`&(.${v}`]:{"&:first-child)":{borderRadius:t?0:"8px 8px 0 0"},"&:last-child)":{borderRadius:t?0:"0 0 8px 8px"}}}))))),h2:{...m,margin:0,color:c,...(0,e.q)(a,{color:C})}},root:(0,e.m)({color:c,position:"relative",boxSizing:"border-box",transform:t?"translateY(0%)":"translateY(25%)",opacity:t?1:0,transition:`${(0,e.w)("opacity",T,S)}, ${(0,e.w)("transform",T,S)}`,paddingTop:s?(0,e.n)(32):E,...!r&&{paddingBottom:E},background:p,outline:e.y?"1px solid transparent":0,"&:focus::after":{content:'""',position:"fixed",border:`${e.o} solid`,pointerEvents:"none",...(0,e.d)(o,(t=>({borderRadius:t?0:"12px",borderColor:t?c:b,...(0,e.u)(t?0:-4),...(0,e.q)(a,{borderColor:b})})))},"&:not(:focus-visible)::before":{border:0},[g]:{margin:B?0:`min(192px, 10vh) ${f.g}`},...(0,e.q)(a,{color:C,background:$})},(0,e.d)(o,y)),...i&&{header:{padding:`0 ${E} 8px`}},content:{...r&&{position:"relative",zIndex:0},padding:`0 ${E}`},...r&&{footer:{position:"sticky",background:p,padding:E,bottom:0,borderBottomLeftRadius:u.b,borderBottomRightRadius:u.b,...(0,e.q)(a,{background:$})},[w]:{boxShadow:`${(0,e.a1)(a)?n.s:n.a} 0 -5px 10px`,clipPath:"inset(-20px 0 0 0)",...(0,e.q)(a,{boxShadow:`${n.s} 0 -5px 10px`})}},...s&&{controls:{position:"absolute",top:"8px",right:"8px",left:"8px",display:"flex",justifyContent:"flex-end"},dismiss:{border:`2px solid ${p}`,borderRadius:"4px",background:p,...(0,l.h)({"&:hover":{background:x,borderColor:x}}),...(0,e.q)(a,{background:$,borderColor:$})}}})},$={open:e.A.boolean,disableCloseButton:e.A.boolean,dismissButton:e.A.boolean,disableBackdropClick:e.A.boolean,heading:e.A.string,fullscreen:e.A.breakpoint("boolean"),aria:e.A.aria(n.M),theme:e.A.oneOf(a.T)},B=class{constructor(t){(0,e.r)(this,t),this.close=(0,e.C)(this,"close",3),this.dismiss=(0,e.C)(this,"dismiss",3),this.onSlotChange=()=>{this.open&&setTimeout((()=>{this.updateFocusTrap(!0),this.dialog.focus()}))},this.onScroll=(0,e.ad)(100,(()=>{const{scrollHeight:t,clientHeight:o,scrollTop:s}=this.host;if(t>o){const e=t-o>s+parseInt(getComputedStyle(this.dialog).marginBottom,10);this.footer.classList.toggle(w,e)}})),this.onMouseDown=t=>{t.composedPath()[0]!==this.host||(0,n.c)(this.host,t)||this.dismissModal()},this.dismissModal=()=>{this.hasDismissButton&&(this.dismiss.emit(),this.close.emit())},this.open=!1,this.disableCloseButton=void 0,this.dismissButton=!0,this.disableBackdropClick=!1,this.heading=void 0,this.fullscreen=!1,this.aria=void 0,this.theme="light"}get hasDismissButton(){return!this.disableCloseButton&&this.dismissButton}openChangeHandler(t){this.updateFocusTrap(t),t?this.focusedElBeforeOpen=document.activeElement:this.focusedElBeforeOpen?.focus()}componentShouldUpdate(t,o){return(0,e.h)(t,o)}componentDidLoad(){this.open&&this.updateFocusTrap(!0)}componentDidRender(){if(this.open){for(let t=0;t<4;t++)setTimeout((()=>this.host.scrollTop=0),5*t);this.hasFooter&&this.onScroll(),this.dialog.focus()}}disconnectedCallback(){this.updateFocusTrap(!1)}render(){(0,e.v)(this,$),(0,r.w)(this,"disableCloseButton","Please use dismissButton prop instead."),this.open&&(0,n.w)(this.host,this.heading,this.aria),this.hasHeader=!!this.heading||(0,i.h)(this.host,"heading"),this.hasFooter=(0,i.h)(this.host,"footer"),(0,e.e)(this.host,C,this.open,this.fullscreen,this.hasDismissButton,this.hasHeader,this.hasFooter,this.theme);const t=(0,e.k)(this.host);return(0,e.f)(e.H,{onMouseDown:!this.disableBackdropClick&&this.onMouseDown,onScroll:this.hasFooter&&this.onScroll},(0,e.f)("div",{class:"root",role:"dialog",...(0,e.F)({"aria-modal":!0,"aria-label":this.heading,"aria-hidden":!this.open,...(0,e.F)(this.aria)}),tabIndex:-1,inert:!this.open||null,ref:t=>this.dialog=t},this.hasDismissButton&&(0,e.f)("div",{class:"controls"},(0,e.f)(t.pButtonPure,{class:"dismiss",type:"button",ref:t=>this.dismissBtn=t,hideLabel:!0,icon:"close",onClick:this.dismissModal,theme:this.theme},"Dismiss modal")),this.hasHeader&&(0,e.f)("div",{class:"header"},this.heading?(0,e.f)("h2",null,this.heading):(0,e.f)("slot",{name:"heading"})),(0,e.f)("div",{class:"content"},(0,e.f)("slot",{onSlotchange:this.onSlotChange})),this.hasFooter&&(0,e.f)("div",{class:"footer",ref:t=>this.footer=t},(0,e.f)("slot",{name:"footer"}))))}updateFocusTrap(t){(0,n.b)(this.host,t,!this.disableCloseButton&&this.dismissBtn,this.dismissModal),(0,n.d)(t)}get host(){return(0,e.i)(this)}static get watchers(){return{open:["openChangeHandler"]}}}},269:(t,o,s)=>{s.d(o,{T:()=>e});const e=["light","dark","auto"]},171:(t,o,s)=>{s.d(o,{w:()=>n});var e=s(876),i=s(8634);const n=(t,o,s)=>{const n=t[o];null!=n&&(0,i.c)((0,e.g)(t.host,o),s||"")}}}]);